#!/bin/sh
set -e
log="$HOME/upgrade.log"
sudo apt-get update
sudo apt-get --with-new-pkgs -V -y upgrade | tee "$log"

signal_sandbox=/opt/Signal/chrome-sandbox
if [ -f "$signal_sandbox" ]; then
  sudo chmod 4755 "$signal_sandbox"
fi

sudo apt autoremove -y | tee -a "$log"
sudo apt clean | tee -a "$log"
hash npm && npm update -g npm | tee -a "$log"
hash npm && npm update --depth 9999 -g | tee -a "$log"
hash gem && gem update | tee -a "$log"
hash upgradevimplugins && upgradevimplugins | tee -a "$log"
hash rustupdate && rustupdate | tee -a "$log"
hash dotsyncall && dotsyncall | tee -a "$log"
